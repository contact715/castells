@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes noise-animation {
  0% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(-2%, -3%);
  }
  20% {
    transform: translate(-4%, 2%);
  }
  30% {
    transform: translate(2%, -4%);
  }
  40% {
    transform: translate(-2%, 5%);
  }
  50% {
    transform: translate(-4%, 2%);
  }
  60% {
    transform: translate(3%, 0);
  }
  70% {
    transform: translate(0, 3%);
  }
  80% {
    transform: translate(-3%, 0);
  }
  90% {
    transform: translate(2%, 2%);
  }
  100% {
    transform: translate(1%, 0);
  }
}

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  /* Smooth theme transition for all elements */
  *,
  *::before,
  *::after {
    transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                fill 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                stroke 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Disable transitions for elements that shouldn't animate */
  img,
  video,
  iframe,
  canvas,
  svg path,
  svg circle,
  svg rect,
  [data-no-theme-transition] {
    transition: none !important;
  }

  body {
    @apply bg-ivory text-text-primary font-sans;
    font-family: 'Satoshi', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Newsreader', serif;
  }

  .dark {
    color-scheme: dark;
  }

  /* Custom checkbox styling to match site theme */
  input[type="checkbox"] {
    accent-color: #E08576;
  }

  input[type="checkbox"]:checked {
    background-color: #E08576;
    border-color: #E08576;
  }
}

@layer utilities {
  .text-text-primary {
    @apply text-black dark:text-white;
  }

  .text-text-secondary {
    @apply text-[#555555] dark:text-[#CCCCCC];
  }

  .bg-ivory {
    @apply bg-[#EBECE7] dark:bg-[#191919];
  }

  .bg-coral {
    @apply bg-[#E08576];
  }

  .bg-surface {
    @apply bg-white dark:bg-[#2A2A2A];
  }
  
  .mask-linear-fade {
    mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%);
    -webkit-mask-image: linear-gradient(to right, transparent 0%, black 10%, black 90%, transparent 100%);
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* Print Styles */
@media print {
  /* Hide non-essential elements */
  nav,
  footer,
  .no-print,
  button,
  .back-to-top,
  .reading-progress,
  .cookie-consent,
  .search-overlay,
  .mobile-menu {
    display: none !important;
  }

  /* Optimize layout for printing */
  body {
    background: white !important;
    color: black !important;
    font-size: 12pt;
    line-height: 1.5;
  }

  /* Ensure links are visible */
  a {
    color: black !important;
    text-decoration: underline;
  }

  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }

  /* Page breaks */
  h1, h2, h3 {
    page-break-after: avoid;
  }

  img {
    max-width: 100% !important;
    page-break-inside: avoid;
  }

  /* Remove backgrounds and shadows */
  * {
    background: white !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  /* Optimize spacing */
  .container {
    max-width: 100% !important;
    padding: 0 !important;
  }
}

/* Theme transition is handled in @layer base above */